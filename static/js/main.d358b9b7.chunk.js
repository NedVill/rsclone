(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{174:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),o=a(17),i=a.n(o),s=(a(174),a(29)),l=a(266),d=a(329),u=a(19);function b(){}var p=Object(r.createContext)({token:null,userId:null,fullName:null,email:null,login:b,logout:b,isAuthenticated:!1}),h=a(24),j=a(306),m=a(77),x=a(311),f=a(307),g=a(268),O=Object(g.a)({auth__title:{textAlign:"center",margin:"20px 0"},flex:{display:"flex"},alignItemCenter:{alignItems:"center"},paddingTopBig:{paddingTop:"100px","@media(max-width: 1024px)":{paddingTop:"50px"}},paddingTopMiddle:{paddingTop:"50px"},marginBottomSmall:{marginBottom:"20px"},marginBottomMiddle:{marginBottom:"50px"},MarginLeftSmall:{marginLeft:"15px"},MarginRightSmall:{marginRight:"15px"},MarginLeftAuto:{marginLeft:"auto"},navColor:{color:"#3e3a3a",textDecoration:"none"},contentContainer:{paddingLeft:"50px","@media(max-width: 1024px)":{paddingLeft:"20px"},"@media(max-width: 600px)":{paddingLeft:0,paddingTop:"40px"}},popup:{"& .MuiDialog-paperWidthSm":{width:"100%",maxWidth:"500px","@media(max-width: 480px)":{margin:"15px"}}},innerPage:{paddingRight:"30px",paddingLeft:"30px",minHeight:"calc(100vh - 124px)","@media(max-width: 480px)":{paddingRight:"15px",paddingLeft:"15px"}},fullButtonMob:{"@media(max-width: 480px)":{maxWidth:"none",width:"100%"}}}),v=a(10),k=a(269),C=a(305),y=Object(C.a)((function(e){return{footer:{padding:"10px 0",marginTop:"auto",backgroundColor:e.palette.primary.main,zIndex:10},footerLogo:{width:"100px",height:"30px"},footerLogoWrapper:{"@media(max-width: 480px)":{width:"100%",justifyContent:"center"}},year:{color:e.palette.background.main,fontSize:"18px","@media(max-width: 480px)":{width:"100%",marginBottom:"20px",textAlign:"center"}},avatar:{marginRight:"10px","&:last-child":{marginRight:0}},avatars:{"@media(max-width: 480px)":{width:"100%",justifyContent:"center",marginBottom:"20px"}}}})),w=[{nick:"johnneon",link:"https://github.com/johnneon",image:"assets/images/johnneon.jpg"},{nick:"yrevtovich",link:"https://github.com/yrevtovich",image:"assets/images/yrevtovich.jpg"},{nick:"nedvill",link:"https://github.com/NedVill",image:"assets/images/nedvill.jpg"}];var _=function(){var e=Object(v.a)(Object(v.a)({},y()),O()),t=w.map((function(t){var a=t;return Object(n.jsx)("a",{className:e.avatar,href:a.link,rel:"noreferrer",target:"_blank",children:Object(n.jsx)(k.a,{alt:a.nick,src:a.image})},a.nick)}));return Object(n.jsx)("footer",{className:e.footer,children:Object(n.jsx)(j.a,{maxWidth:!1,children:Object(n.jsxs)(f.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(n.jsx)("div",{className:"".concat(e.flex," ").concat(e.avatars),children:t}),Object(n.jsx)("span",{className:e.year,children:"RS Tasktracker, 2021"}),Object(n.jsx)("div",{className:"".concat(e.flex," ").concat(e.alignItemCenter," ").concat(e.footerLogoWrapper),children:Object(n.jsx)("a",{href:"https://rs.school/js/",rel:"noreferrer",target:"_blank",children:Object(n.jsx)("img",{className:e.footerLogo,src:"assets/images/rs_school_js.svg",alt:"rsschool"})})})]})})})},N=a(261),S=a(262),I=a(308),B=a(310),z=a(309),W=a(312),T=Object(C.a)({navColor:{color:"#3e3a3a",textDecoration:"none"},navAside:{width:"100%",paddingTop:"0",paddingBottom:"0"}}),P=function(){var e=T();return Object(n.jsxs)(N.a,{component:"nav","aria-label":"main mailbox folders",className:e.navAside,children:[Object(n.jsx)(s.c,{to:"/home",className:e.navColor,children:Object(n.jsxs)(S.a,{button:!0,children:[Object(n.jsx)(I.a,{children:Object(n.jsx)(z.a,{})}),Object(n.jsx)(B.a,{primary:"Home"})]},"home")}),Object(n.jsx)(x.a,{}),Object(n.jsx)(s.c,{to:"/boards",className:e.navColor,children:Object(n.jsxs)(S.a,{button:!0,children:[Object(n.jsx)(I.a,{children:Object(n.jsx)(W.a,{})}),Object(n.jsx)(B.a,{primary:"Boards"})]})})]})},D=function(){var e=O(),t=Object(r.useContext)(p).fullName;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(j.a,{className:"".concat(e.paddingTopBig," ").concat(e.innerPage),children:[Object(n.jsx)(m.a,{variant:"h1",component:"h1",className:e.marginBottomSmall,children:"Home page"}),Object(n.jsx)(x.a,{className:e.marginBottomMiddle}),Object(n.jsxs)(f.a,{container:!0,direction:"row",justify:"space-between",children:[Object(n.jsx)(f.a,{container:!0,item:!0,md:2,sm:3,xs:12,children:Object(n.jsx)(P,{})}),Object(n.jsxs)(f.a,{container:!0,item:!0,md:10,sm:9,xs:12,className:e.contentContainer,children:[Object(n.jsx)(m.a,{variant:"h1",component:"h2",className:e.marginBottomSmall,children:"Welcome, ".concat(t," !")}),Object(n.jsx)(x.a,{})]})]})]}),Object(n.jsx)(_,{})]})},E=a(7),R=a.n(E),H=a(11),A=a(60),q=a(6),M=a(322),L=a(323),F=a(324),U=a(325),J=a(20),Y=a(315),$=a(100),V=a(345),G=a(316),K=a(317),X=a(346),Z=a(321),Q=a(263),ee=a(348),te=a(314),ae=a(313),ne=a(115),re=a.n(ne),ce=Object(C.a)((function(){return{palette:{width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflowY:"auto"},palette__item:{margin:5,width:80,height:55,borderRadius:4,"&:hover":{filter:"brightness(0.5)"}}}})),oe=function(e){var t=e.onClick,a=e.data,r=ce();return Object(n.jsx)(N.a,{className:r.palette,children:a.map((function(e){return Object(n.jsx)(S.a,{button:!0,className:r.palette__item,style:{background:"center / cover no-repeat ".concat(e.value)},onClick:(a=e.value,function(){return t(a)})},e.key);var a}))})};oe.defaultProps={onClick:null,data:[]};var ie=oe,se=function(e){var t=e.onClick,a=e.colors.map((function(e){return{value:e,key:e}}));return Object(n.jsx)(ie,{data:a,onClick:t})};se.defaultProps={onClick:null,colors:[]};var le=se,de=function(){var e=Object(H.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?key=".concat("20121769-cbac7918c0d6930224b67759a","&image_type=photo&orientation=horizonal&min_width=1960&page=").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(e){var t=e.onClick,a=Object(r.useState)([]),c=Object(q.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(1),l=Object(q.a)(s,2),d=l[0],b=l[1],p=Object(u.b)().enqueueSnackbar,h=Object(r.useCallback)((function(e,t){return p(e,{variant:t})}),[p]),j=Object(r.useCallback)(Object(H.a)(R.a.mark((function e(){var t,a,n=arguments;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:0,e.prev=1,e.next=4,de(t+1);case 4:a=e.sent,i((function(e){return[].concat(Object(A.a)(e),Object(A.a)(a.hits))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h(e.t0.message,"error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[h]);Object(r.useEffect)((function(){return j()}),[j]);var m=o.map((function(e){return{value:"url(".concat(e.largeImageURL,")"),key:"".concat(e.id)}}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ie,{data:m,onClick:t}),Object(n.jsx)(Q.a,{color:"primary",onClick:function(){j(d),b(d+1)},children:"Load more..."})]})};ue.defaultProps={onClick:null};var be=ue,pe="RS Tasktracker",he=/^[\w!#$%&'*+/=?^_`{|}~\- \u2116"@]+$/,je=/^[\w!#$%&'*+/=?^_`{|}~]*(?:\.?[\w!#$%&'*+/=?^_`{|}~-]+)@[^.@]+\.[^.@]{2,}$/,me=/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{6,}$/,xe=["#f44336","#e91e63","#9c27b0","#ba68c8","#ff5252","#ea80fc","#673ab7","#3f51b5","#2196f3","#0d47a1","#00bcd4","#009688","#1de9b6","#00c853","#69f0ae","#00e676","#ff9800","#ffc107","#ffee58","#ff7043","#8d6e63","#757575","#607d8b","#424242"],fe=Object(C.a)((function(e){return{menu:{width:"100%",maxWidth:500,minHeight:0,display:"flex",flexDirection:"column","& .MuiMenu-paper":Object(J.a)({marginTop:16,width:"100%",minWidth:"100%",maxWidth:"100%",boxSizing:"border-box"},e.breakpoints.down("xs"),{width:"100%",minWidth:"calc(100% - 64px)",maxWidth:"calc(100% - 64px)"}),"& .MuiList-padding":{padding:0,width:"100%"},zIndex:e.zIndex.backdrop+1},accordion:{margin:0,width:"100%",border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none",minHeight:46,display:"flex",flexDirection:"column","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&.Mui-expanded":{margin:0},"& .MuiCollapse-container":{overflowY:"auto"}},heading:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:45,fontSize:e.typography.pxToRem(15),"&.Mui-expanded":{minHeight:45},"& .MuiAccordionSummary-content.Mui-expanded":{margin:"12px 0"}},palette__wrapper:{paddingBottom:20,display:"flex",flexDirection:"column",overflowY:"hidden"},palette:{height:"fit-content",width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflowY:"auto"},palette__item:{margin:5,width:80,height:55,borderRadius:4,backgroundSize:"cover","&:hover":{filter:"brightness(0.5)"}},hidden:{display:"none"}}})),ge=function(e){var t=e.onClick,a=e.isOpen,c=fe(),o=Object(r.useState)(!1),i=Object(q.a)(o,2),s=i[0],l=i[1],d=xe,u=function(e){return function(t,a){l(!!a&&e)}};return Object(n.jsxs)(V.a,{elevation:0,className:a?c.menu:c.hidden,children:[Object(n.jsxs)(ee.a,{expanded:"colors"===s,onChange:u("colors"),className:c.accordion,children:[Object(n.jsx)(ae.a,{expandIcon:Object(n.jsx)(re.a,{}),className:c.heading,children:Object(n.jsx)(m.a,{children:"Colors"})}),Object(n.jsx)(te.a,{className:c.palette__wrapper,children:Object(n.jsx)(le,{onClick:t,colors:d})})]}),Object(n.jsxs)(ee.a,{expanded:"images"===s,onChange:u("images"),className:c.accordion,children:[Object(n.jsx)(ae.a,{expandIcon:Object(n.jsx)(re.a,{}),className:c.heading,children:Object(n.jsx)(m.a,{children:"Images"})}),Object(n.jsx)(te.a,{className:c.palette__wrapper,children:Object(n.jsx)(be,{onClick:t})})]})]})};ge.defaultProps={onClick:null,isOpen:!1};var Oe=ge,ve=a(71),ke=Object(C.a)((function(e){var t;return{root:{padding:"14px 24px 24px",minWidth:"45%",minHeight:"135px",display:"flex",flexWrap:"wrap",boxSizing:"border-box"},image:(t={position:"relative",width:"100%",minHeight:"100%"},Object(J.a)(t,e.breakpoints.down("xs"),{}),Object(J.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.6},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.45,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}})),Ce=function(e){var t=e.openMenu,a=e.color,r=ke();return Object(n.jsx)("div",{className:r.root,children:Object(n.jsxs)(ve.a,{focusRipple:!0,className:r.image,focusVisibleClassName:r.focusVisible,onClick:t,children:[Object(n.jsx)("span",{className:r.imageSrc,style:{background:"center / cover no-repeat ".concat(a)}}),Object(n.jsx)("span",{className:r.imageBackdrop}),Object(n.jsx)("span",{className:r.imageButton,children:Object(n.jsxs)(m.a,{component:"span",variant:"subtitle1",color:"inherit",className:r.imageTitle,children:["Background",Object(n.jsx)("span",{className:r.imageMarked})]})})]})})};Ce.defaultProps={openMenu:function(){},color:"#f44336"};var ye=Ce,we=Object(C.a)((function(e){return{popup:{"& .MuiDialog-paperWidthSm":{width:"100%",maxWidth:"500px",alignSelf:"flex-start",background:"transparent",boxShadow:"none",overflow:"hidden"}},form:{marginBottom:20},content:Object(J.a)({display:"flex",padding:"0"},e.breakpoints.down("xs"),{flexDirection:"column"}),wrapper:{minWidth:"55%"},name:{padding:"0 24px",minWidth:"50%",display:"flex",overflowY:"initial"}}})),_e=function(e){var t=e.isOpen,a=e.close,c=e.createAction,o=we(),i=Object(r.useState)({name:"",background:"#f44336"}),s=Object(q.a)(i,2),l=s[0],d=s[1],u=Object(r.useState)({name:!0}),b=Object(q.a)(u,2),p=b[0],h=b[1],j=Object(r.useState)(!1),m=Object(q.a)(j,2),x=m[0],f=m[1],g=function(){f((function(){return!1})),d((function(){return Object(v.a)(Object(v.a)({},l),{},{background:"#f44336"})})),a()};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Y.a,{open:t,onClose:g,"aria-labelledby":"alert-dialog-title",className:o.popup,scroll:"paper",children:[Object(n.jsxs)($.a,{className:o.form,children:[Object(n.jsxs)(V.a,{className:o.content,children:[Object(n.jsxs)(V.a,{className:o.wrapper,children:[Object(n.jsx)(G.a,{id:"alert-dialog-slide-title",children:"Create a new board"}),Object(n.jsx)(K.a,{className:o.name,children:Object(n.jsx)(X.a,{autoFocus:!0,margin:"dense",id:"name",name:"name",label:"Board name",type:"text",fullWidth:!0,size:"small",helperText:p.name?" ":"Name is not valid.",error:!p.name,onChange:function(e){d(Object(v.a)(Object(v.a)({},l),{},Object(J.a)({},e.target.name,e.target.value)))}})})]}),Object(n.jsx)(ye,{openMenu:function(){f(!x)},color:l.background})]}),Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(Q.a,{onClick:g,color:"primary",children:"Cancel"}),Object(n.jsx)(Q.a,{type:"submit",onClick:function(){(function(){var e=!!l.name;return h({name:e}),e})()&&(c(l),g())},color:"primary",children:"Create"})]})]}),Object(n.jsx)(Oe,{isOpen:x,onClick:function(e){d(Object(v.a)(Object(v.a)({},l),{},{background:e}))}})]})})},Ne="userData",Se="notifications",Ie=function(e){if(!e)return null;var t=JSON.parse(atob(e.split(".")[1]));if(!t)return null;var a=1e3*t.exp;return Date.now()>a},Be=function(){var e=Object(r.useState)(null),t=Object(q.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(q.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(null),d=Object(q.a)(l,2),u=d[0],b=d[1],p=Object(r.useState)(null),h=Object(q.a)(p,2),j=h[0],m=h[1],x=Object(r.useState)(null),f=Object(q.a)(x,2),g=f[0],O=f[1],v=Object(r.useCallback)((function(e,t,a,r,c){n(e),b(a),O(r),m(c),localStorage.setItem(Ne,JSON.stringify({token:e,refreshToken:t,userId:a,fullName:r,email:c}))}),[]),k=Object(r.useCallback)(Object(H.a)(R.a.mark((function e(){var t,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem(Ne)),"https://rsclone-back-end.herokuapp.com/api/auth/logout",a={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t.userId})},e.next=5,fetch("https://rsclone-back-end.herokuapp.com/api/auth/logout",a);case 5:n(null),b(null),O(null),localStorage.removeItem(Ne);case 9:case"end":return e.stop()}}),e)}))),[]),C=Object(r.useCallback)(Object(H.a)(R.a.mark((function e(){var t,r,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem(Ne))){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,!Ie(a)){e.next=11;break}return"https://rsclone-back-end.herokuapp.com/api/auth/refresh_token",r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t.refreshToken})},e.next=9,fetch("https://rsclone-back-end.herokuapp.com/api/auth/refresh_token",r).then((function(e){return e.json()})).catch((function(e){throw new Error(e)}));case 9:(c=e.sent).token&&(n(c.token),v(c.token,t.refreshToken,t.userId,t.fullName));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,k();case 17:case"end":return e.stop()}}),e,null,[[3,13]])}))),[v,k,a]);return Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem(Ne));(null===e||void 0===e?void 0:e.token)&&(null===e||void 0===e?void 0:e.userId)&&(null===e||void 0===e?void 0:e.fullName)&&(null===e||void 0===e?void 0:e.refreshToken)&&v(e.token,e.refreshToken,e.userId,e.fullName,e.email),s(!0)}),[v,C,s]),{login:v,logout:k,token:a,getToken:C,fullName:g,email:j,userId:u,ready:i,setNotification:function(e){localStorage.setItem(Se,JSON.stringify({notice:e}))},discardNotifications:function(e){var t=JSON.parse(localStorage.getItem(Se)).notice,a=t.findIndex((function(t){return t.boardId===e}));t.splice(a,1),localStorage.setItem(Se,JSON.stringify({notice:t}))},getNotifications:function(){var e,t=JSON.parse(localStorage.getItem(Se));return(null===t||void 0===t||null===(e=t.notice)||void 0===e?void 0:e.length)>0?t.notice:[]}}},ze=function(){var e=Object(r.useState)(null),t=Object(q.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(q.a)(c,2),i=o[0],s=o[1],l=Be().getToken;return{loading:i,request:Object(r.useCallback)(function(){var e=Object(H.a)(R.a.mark((function e(t){var a,r,c,o,i,d,u,b,p,h,j,m,x;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,r=t.method,c=void 0===r?"GET":r,o=t.body,i=void 0===o?null:o,d=t.headers,u=void 0===d?{}:d,s(!0),e.prev=2,e.next=5,l();case 5:return b=JSON.stringify(i),p=u,h=JSON.parse(localStorage.getItem("userData")||null),p["Content-Type"]="application/json",h&&(p.Authorization="Bearer ".concat(h.token)),j={method:c,headers:p},i&&(j.body=b),e.next=14,fetch(a,j);case 14:return m=e.sent,e.next=17,m.json();case 17:if(x=e.sent,m.ok){e.next=20;break}throw new Error(x.message||"Failed to get data.");case 20:return s(!1),e.abrupt("return",x);case 24:throw e.prev=24,e.t0=e.catch(2),s(!1),n(e.t0.message),e.t0;case 29:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(t){return e.apply(this,arguments)}}(),[l]),error:a,clearErorr:Object(r.useCallback)((function(){return n(null)}),[])}},We=Object(C.a)({navColor:{color:"#3e3a3a",textDecoration:"none"},cardItem:{display:"block",width:"calc(100% / 3 - 14px)",marginRight:"20px",marginBottom:"20px",textDecoration:"none",border:"none",backgroundColor:"#0000000a","&:nth-child(3n)":{marginRight:"0"},"@media(max-width: 768px)":{width:"calc(50% - 10px)",justifyContent:"center","&:nth-child(3n)":{marginRight:"20px"},"&:nth-child(2n)":{marginRight:0}},"@media(max-width: 480px)":{width:"100%",marginRight:0,"&:nth-child(3n)":{marginRight:0}}},fullHeight:{height:"100%"},circleButton:{display:"block",margin:"0 auto",width:"50px",height:"50px"}}),Te=function(e){var t=e.createCard,a=Object(r.useState)(!1),c=Object(q.a)(a,2),o=c[0],i=c[1],s=Object(u.b)().enqueueSnackbar,l=Object(r.useContext)(p).token,d=ze().request,b=We(),h=Object(r.useCallback)((function(e,t){return s(e,{variant:t})}),[s]),j=function(){var e=Object(H.a)(R.a.mark((function e(a){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/board/",method:"POST",headers:{Authorization:"Bearer ".concat(l)},body:Object(v.a)({},a)},e.next=4,d(n);case 4:r=e.sent,t(r),h("Board created!","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h(e.t0.message,"success");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(M.a,{onClick:function(){i(!0)},variant:"outlined",className:b.cardItem,children:Object(n.jsx)(L.a,{className:b.fullHeight,children:Object(n.jsx)(F.a,{children:Object(n.jsx)(U.a,{color:"action",className:b.circleButton})})})}),Object(n.jsx)(_e,{isOpen:o,close:function(){i(!1)},createAction:j})]})},Pe=a(327),De=a(326),Ee=Object(C.a)({navColor:{color:"#3e3a3a",textDecoration:"none"},cardItem:{display:"block",width:"calc(100% / 3 - 14px)",marginRight:"20px",marginBottom:"20px",textDecoration:"none",padding:0,border:"none",textAlign:"left","&:nth-child(3n)":{marginRight:0},"&:hover .MuiSvgIcon-root":{opacity:"1"},"@media(max-width: 768px)":{width:"calc(50% - 10px)",justifyContent:"center","&:nth-child(3n)":{marginRight:"20px"},"&:nth-child(2n)":{marginRight:0}},"@media(max-width: 480px)":{width:"100%",marginRight:0,"&:nth-child(3n)":{marginRight:0}}},media:{height:"200px",backgroundColor:"#f5f5f5"},closeButton:{position:"absolute",right:"5px",top:"5px",opacity:0,transition:"opacity 0.2s",zIndex:"10"}}),Re=function(e){var t=e.id,a=e.title,r=e.deleteBoard,c=e.background,o=Ee();return Object(n.jsx)(s.c,{onClick:function(e){e.target.closest("svg")&&e.preventDefault()},className:o.cardItem,to:"/board_".concat(t),children:Object(n.jsx)(M.a,{variant:"outlined",className:o.navAside,children:Object(n.jsxs)(L.a,{children:[Object(n.jsx)(De.a,{className:o.closeButton,onClick:function(){r(t,a)}}),Object(n.jsx)(Pe.a,{className:o.media,title:a,children:Object(n.jsx)("div",{style:{width:"100%",height:"100%",background:"center / cover no-repeat ".concat(c)}})}),Object(n.jsx)(F.a,{children:Object(n.jsx)(m.a,{className:o.title,color:"textSecondary",children:a})})]})})})};Re.defaultProps={title:"Card",background:"#fbf089"};var He=Re,Ae=Object(C.a)({popup:{"& .MuiDialog-paperWidthSm":{width:"100%",maxWidth:"400px","@media(max-width: 480px)":{margin:"15px"}}}}),qe=function(e){var t=e.isOpen,a=e.name,c=e.agree,o=e.close,i=Ae(),s=Object(r.useState)(!1),l=Object(q.a)(s,2),d=l[0],u=l[1];return Object(r.useEffect)((function(){u(t)}),[t]),Object(n.jsxs)(Y.a,{open:d,onClose:o,"aria-labelledby":"alert-dialog-title",className:i.popup,children:[Object(n.jsx)(G.a,{id:"alert-dialog-slide-title",children:'Are you sure to delete "'.concat(a,'" ?')}),Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(Q.a,{onClick:o,color:"primary",children:"Cancel"}),Object(n.jsx)(Q.a,{type:"button",onClick:c,color:"primary",children:"Yes"})]})]})};qe.defaultProps={name:"Card"};var Me=qe,Le=function(){var e=Object(u.b)().enqueueSnackbar,t=Object(r.useContext)(p).token,a=ze().request,c=Object(r.useState)([]),o=Object(q.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(!1),d=Object(q.a)(l,2),b=d[0],h=d[1],j=Object(r.useState)(),m=Object(q.a)(j,2),x=m[0],f=m[1],g=Object(r.useState)(),O=Object(q.a)(g,2),v=O[0],k=O[1],C=Object(r.useCallback)((function(t,a){return e(t,{variant:a})}),[e]),y=function(){var e=Object(H.a)(R.a.mark((function e(t,a){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"https://rsclone-back-end.herokuapp.com/api/board/",method:"GET",headers:{Authorization:"Bearer ".concat(t)}},e.next=3,a(n);case 3:r=e.sent,s(r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(H.a)(R.a.mark((function e(n){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"https://rsclone-back-end.herokuapp.com/api/board/".concat(n),method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}},e.next=4,a(r);case 4:y(t,a),C("Board deleted!","success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),C(e.t0.message,"error");case 11:h(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(e,t){h(!0),f(t),k(e)};Object(r.useEffect)((function(){y(t,a)}),[t,a]);var N=i.map((function(e){var t=e._id,a=e.name,r=e.background;return"object"===typeof e?Object(n.jsx)(He,{id:t,title:a,background:r,deleteBoard:_},t):null}));return Object(n.jsxs)(n.Fragment,{children:[N,Object(n.jsx)(Te,{setCards:s,createCard:function(e){s([].concat(Object(A.a)(i),[e]))}}),Object(n.jsx)(Me,{isOpen:b,name:x,agree:function(){w(v)},close:function(){h(!1)}})]})},Fe=function(){var e=O();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(j.a,{className:"".concat(e.paddingTopBig," ").concat(e.innerPage),children:[Object(n.jsx)(m.a,{variant:"h1",component:"h1",className:e.marginBottomSmall,children:"Board page"}),Object(n.jsx)(x.a,{className:e.marginBottomMiddle}),Object(n.jsxs)(f.a,{container:!0,direction:"row",justify:"space-between",children:[Object(n.jsx)(f.a,{container:!0,item:!0,md:2,sm:3,xs:12,children:Object(n.jsx)(P,{})}),Object(n.jsx)(f.a,{container:!0,item:!0,md:10,sm:9,xs:12,className:e.contentContainer,children:Object(n.jsx)(Le,{})})]})]}),Object(n.jsx)(_,{})]})},Ue=function(e,t){return!!e.match(t)},Je=function(e){var t=e.activeTab,a=e.action,c=Object(r.useState)({email:"",password:"",fullName:""}),o=Object(q.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)({fullName:!0,email:!0,password:!0}),d=Object(q.a)(l,2),u=d[0],b=d[1],p=function(e){s(Object(v.a)(Object(v.a)({},i),{},Object(J.a)({},e.target.name,e.target.value)))},h=function(){(function(){var e=i.fullName,a=i.email,n=i.password,r=je,c=me,o=!!t||Ue(e,he),s=Ue(a,r),l=Ue(n,c);return b({fullName:o,email:s,password:l}),l&&s&&o})()&&a(i)},j=function(e){"Enter"===e.key&&h()};return Object(n.jsxs)(f.a,{container:!0,direction:"column",alignItems:"stretch",spacing:1,children:[!t&&Object(n.jsx)(f.a,{item:!0,children:Object(n.jsx)(X.a,{required:!0,fullWidth:!0,size:"small",variant:"outlined",label:"Name",type:"text",name:"fullName",helperText:u.fullName?" ":"Name is not valid.",error:!u.fullName,onChange:p,onKeyPress:j})}),Object(n.jsx)(f.a,{item:!0,children:Object(n.jsx)(X.a,{required:!0,fullWidth:!0,size:"small",variant:"outlined",label:"Email",type:"email",name:"email",helperText:u.email?" ":"Email is not valid.",error:!u.email,onChange:p,onKeyPress:j})}),Object(n.jsx)(f.a,{item:!0,children:Object(n.jsx)(X.a,{required:!0,fullWidth:!0,size:"small",variant:"outlined",label:"Password",type:"password",name:"password",helperText:u.password?" ":"Password is not valid.",error:!u.password,onChange:p,onKeyPress:j})}),Object(n.jsx)(f.a,{item:!0,xs:12,sm:5,children:Object(n.jsx)(Q.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:h,onKeyPress:j,children:t?"Login":"Sign Up"})})]})};Je.defaultProps={activeTab:0,action:function(){}};var Ye=Je,$e=a(347),Ve=a(328),Ge=Object(C.a)((function(){return{auth__tabs:{maxWidth:"50%",minWidth:"40%"}}})),Ke=function(e){var t=e.activeTab,a=e.changeActiveTabHandler,r=Ge();return Object(n.jsxs)($e.a,{variant:"fullWidth",value:t,indicatorColor:"primary",textColor:"inherit",onChange:a,scrollButtons:"off",children:[Object(n.jsx)(Ve.a,{label:"Sing Up",className:r.auth__tabs}),Object(n.jsx)(Ve.a,{label:"Login",className:r.auth__tabs})]})};Ke.defaultProps={activeTab:0,changeActiveTabHandler:function(){}};var Xe=Ke,Ze=Object(C.a)((function(e){return{auth__form:{padding:"0 20px 20px",maxWidth:"380px",backgroundColor:e.palette.background.main,borderRadius:"5px",boxShadow:"\n      0 0 10px ".concat(e.palette.shadow.main,", \n      0 0 10px ").concat(e.palette.shadow.main,", \n      0 0 10px ").concat(e.palette.shadow.main,"\n    ")},backdrop:{zIndex:e.zIndex.snackbar+1,color:"#fff"}}})),Qe=function(){var e=Object(r.useState)(0),t=Object(q.a)(e,2),a=t[0],c=t[1],o=ze(),i=o.loading,s=o.request,b=Object(u.b)().enqueueSnackbar,h=Ze(),j=Object(r.useContext)(p),m=Object(r.useCallback)((function(e,t){return b(e,{variant:t})}),[b]),x=function(){var e=Object(H.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"https://rsclone-back-end.herokuapp.com/api/auth/register",method:"POST",body:Object(v.a)({},t)},e.next=4,s(a);case 4:n=e.sent,m(n.message,"success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m(e.t0.message,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(H.a)(R.a.mark((function e(t){var a,n,r,c,o,i,l,d;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"https://rsclone-back-end.herokuapp.com/api/auth/login",method:"POST",body:Object(v.a)({},t)},e.next=4,s(a);case 4:n=e.sent,r=n.token,c=n.refreshToken,o=n.userId,i=n.fullName,l=n.email,d=n.notifications,j.login(r,c,o,i,l),j.setNotification(d),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),m(e.t0.message,"error");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(f.a,{container:!0,className:h.auth__form,direction:"column",alignItems:"stretch",spacing:3,children:[Object(n.jsx)(f.a,{item:!0,children:Object(n.jsx)(Xe,{activeTab:a,changeActiveTabHandler:function(e,t){c(t)}})}),Object(n.jsx)(f.a,{item:!0,children:Object(n.jsx)(Ye,{activeTab:a,action:a?g:x})})]}),Object(n.jsx)(l.a,{className:h.backdrop,open:i,children:Object(n.jsx)(d.a,{color:"primary"})})]})},et=Object(C.a)((function(e){return{auth:{padding:"50px 30px",minHeight:"calc(100vh - 124px);",backgroundColor:e.palette.background.main,display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",flexDirection:"column"},auth__title:{marginBottom:"60px",textAlign:"center"},authContainer:{display:"flex",justifyContent:"center",alignItems:"flex-start",width:"100%",maxWidth:"380px",minHeight:"400px"}}})),tt=function(){var e=et();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(j.a,{className:e.auth,maxWidth:!1,children:[Object(n.jsx)(m.a,{className:e.auth__title,variant:"h1",children:"Welcome to ".concat(pe)}),Object(n.jsx)("div",{className:e.authContainer,children:Object(n.jsx)(Qe,{})})]}),Object(n.jsx)(_,{})]})},at=a(142),nt=a.n(at),rt=a(331),ct=a(330),ot=Object(C.a)({popup:{"& .MuiDialog-paperWidthSm":{width:"100%",maxWidth:"500px"}}}),it=function(e){var t=e.isOpen,a=e.close,c=e.createAction,o=ot(),i=Object(r.useState)({email:""}),s=Object(q.a)(i,2),l=s[0],d=s[1],u=Object(r.useState)({email:!0}),b=Object(q.a)(u,2),p=b[0],h=b[1];return Object(n.jsx)(Y.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title",className:o.popup,children:Object(n.jsxs)("form",{type:"POST",children:[Object(n.jsx)(G.a,{id:"alert-dialog-slide-title",children:"Invite user to your board:"}),Object(n.jsx)(K.a,{children:Object(n.jsx)(X.a,{autoFocus:!0,margin:"dense",id:"email",name:"email",label:"Email",type:"email",fullWidth:!0,helperText:p.email?" ":"Email is not valid.",error:!p.email,onChange:function(e){d(Object(v.a)(Object(v.a)({},l),{},Object(J.a)({},e.target.name,e.target.value)))}})}),Object(n.jsxs)(Z.a,{children:[Object(n.jsx)(Q.a,{onClick:a,color:"primary",children:"Cancel"}),Object(n.jsx)(Q.a,{type:"submit",onClick:function(e){e.preventDefault(),function(){var e=!!l.email;return h({email:e}),e}()&&(c(l),a())},color:"primary",children:"Invite"})]})]})})},st=Object(C.a)((function(e){return{boardHeader__element:{marginRight:"5px",padding:"3px 5px",width:"fit-content",backgroundColor:e.palette.buttons.transparentWhite,border:"none"},boardHeader__usersList:{marginRight:"5px","& .MuiAvatarGroup-avatar":{width:"25px",height:"25px",fontSize:12,lineHeight:"1.1",color:e.palette.getContrastText(ct.a[500]),backgroundColor:ct.a[500]}},boardHeader__users:{display:"flex",alignItems:"center"}}})),lt=function(e){var t=e.data,a=e.boardId,c=st(),o=Object(u.b)().enqueueSnackbar,i=Object(r.useState)(t),s=Object(q.a)(i,2),l=s[0],d=s[1],b=Object(r.useState)(!1),h=Object(q.a)(b,2),j=h[0],m=h[1],x=Object(r.useContext)(p),f=x.token,g=x.email,O=ze().request,v=Object(r.useCallback)((function(e,t){return o(e,{variant:t})}),[o]),C=function(){var e=Object(H.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/board/invite",method:"POST",headers:{Authorization:"Bearer ".concat(f)},body:{to:t.email,from:g,boardId:a}},e.next=4,O(n);case 4:if("User will get invite!"===(r=e.sent).message){e.next=7;break}throw r;case 7:v(r.message,"success"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),v(e.t0.message,"error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return d(t)}),[t]),Object(n.jsxs)(V.a,{className:c.boardHeader__users,children:[Object(n.jsx)(rt.a,{max:5,spacing:4,className:c.boardHeader__usersList,children:l.map((function(e){var t=e.fullName,a=e._id;return Object(n.jsx)(k.a,{className:c.boardHeader__avatar,children:t[0]},a)}))}),Object(n.jsx)(Q.a,{color:"inherit",className:c.boardHeader__element,onClick:function(){m(!0)},children:"Invite"}),Object(n.jsx)(it,{isOpen:j,close:function(){m(!1)},createAction:C})]})};lt.defaultProps={data:[],boardId:""};var dt=lt,ut=a(270),bt=Object(C.a)((function(e){return{boardHeader__element:{marginRight:"5px",padding:"3px 8px",width:"fit-content",minWidth:"unset",backgroundColor:e.palette.buttons.transparentWhite,border:"none"},boardHeader__nameContainer:{position:"relative"},boardHeader__name:{padding:"1px 4px",marginRight:"5px",height:"100%",fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,color:e.palette.text.white,lineHeight:"1.75",whiteSpace:"pre",backgroundColor:e.palette.buttons.transparentWhite,border:"none",borderRadius:"4px",boxSizing:"border-box",visibility:"hidden",position:"absolute",top:0,left:0,"& input":{padding:"4px 0px 5px",height:"100%",letterSpacing:"normal",whiteSpace:"pre-wrap",border:"none"}},boardHeader__name_visible:{visibility:"visible",position:"static"}}})),pt=function(e){var t=e.boardName,a=e.request,c=Object(r.useState)(t),o=Object(q.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(!1),d=Object(q.a)(l,2),u=d[0],b=d[1],p=Object(r.useState)("0px"),h=Object(q.a)(p,2),j=h[0],x=h[1],f=Object(r.useRef)(null),g=Object(r.useRef)(null),O=bt(),v=function(){var e=Object(H.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.trim().length){e.next=3;break}return f.current.focus(),e.abrupt("return");case 3:b(!1),a({name:i});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return s(t)}),[t,s]),Object(r.useEffect)((function(){u&&f.current.focus()}),[u]),Object(r.useEffect)((function(){var e=g.current.getBoundingClientRect().width;x("".concat(e,"px"))}),[i]),Object(n.jsxs)(V.a,{className:O.boardHeader__nameContainer,children:[Object(n.jsx)(ut.a,{value:i,className:"\n          ".concat(O.boardHeader__name," \n          ").concat(u?O.boardHeader__name_visible:"","\n        "),inputProps:{maxLength:50},style:{width:j},size:"small",inputRef:f,spellCheck:"false",onChange:function(e){var t=g.current.getBoundingClientRect().width;x("".concat(t,"px")),s(e.target.value)},onBlur:v,onKeyPress:function(e){"Enter"===e.key&&v()}}),Object(n.jsx)(m.a,{className:"\n          ".concat(O.boardHeader__name," \n          ").concat(u?"":O.boardHeader__name_visible,"\n        "),variant:"h5",onClick:function(){b(!0)},component:"p",ref:g,children:i})]})};pt.defaultProps={boardName:"",request:null};var ht=pt,jt=a(319),mt=function(e,t){return{addCard:function(a){var n=Object(v.a)({},e);n.columns.find((function(e){return e._id===a.columnId})).cards.push(a),t(n)},updateCard:function(a){var n=Object(v.a)({},e),r=n.columns,c=a._id,o=r.find((function(e){return e._id===a.columnId})).cards,i=o.findIndex((function(e){return e._id===c}));o[i]=a,t(n)},deleteCard:function(a){var n=Object(v.a)({},e),r=n.columns,c=a._id,o=r.find((function(e){return e._id===a.columnId})).cards,i=o.findIndex((function(e){return e._id===c}));o.splice(i,1),t(n)},addColumn:function(a){var n=Object(v.a)({},e);n.columns.push(a),t(n)},updateColumn:function(a){var n=Object(v.a)({},e),r=n.columns,c=a._id,o=r.findIndex((function(e){return e._id===c})),i=r[o];r[o]=Object(v.a)(Object(v.a)({},i),a),t(n)},updateColumns:function(a){var n=Object(v.a)({},e);n.columns=a,t(n)},deleteColumn:function(a){var n=Object(v.a)({},e),r=n.columns,c=r.findIndex((function(e){return e._id===a}));r.splice(c,1),t(n)},updateBoard:function(a){var n=Object(v.a)(Object(v.a)({},e),a);t(n)}}},xt=Object(r.createContext)(),ft=function(e){var t=e.boardData,a=e.setBoardData,r=e.children;return Object(n.jsx)(xt.Provider,{value:{boardData:t,updateBoardData:mt(t,a)},children:r})};ft.defaultProps={boardData:{},setBoardData:function(){},children:{}};var gt=ft,Ot=Object(C.a)((function(){return{popover:{minWidth:"280px",maxHeight:"70vh",minHeight:"20px",overflow:"hidden",display:"flex",flexDirection:"column","& .MuiPopover-paper":{width:"max-content",minWidth:"fit-content",overflowY:"hidden",minHeight:"20px",display:"flex",flexDirection:"column",backgroundColor:"#4f4e4ebf"}},buttons__wrapper:{padding:5,display:"flex",justifyContent:"flex-end"},button:{margin:3}}})),vt=function(e){var t=e.isOpen,a=e.anchorEl,c=e.handleClose,o=e.request,i=Ot(),s=Object(r.useContext)(xt).updateBoardData;return Object(n.jsxs)(jt.a,{open:t,anchorEl:a,onClose:c,className:i.popover,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},children:[Object(n.jsx)(Oe,{onClick:function(e){s.updateBoard({background:e}),o({background:e})},isOpen:!0}),Object(n.jsx)(V.a,{className:i.buttons__wrapper,children:Object(n.jsx)(Q.a,{className:i.button,variant:"contained",onClick:c,children:"Close"})})]})};vt.defaultProps={isOpen:!1,anchorEl:null,handleClose:null,request:null};var kt=vt,Ct=Object(C.a)((function(e){return{boardHeader:{padding:"8px 10px",color:e.palette.text.white,display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"auto"},boardHeader__options:{display:"flex",alignItems:"center"},boardHeader__element:{marginRight:"5px",padding:"3px 8px",width:"fit-content",minWidth:"unset",backgroundColor:e.palette.buttons.transparentWhite,border:"none"},boardHeader__homeIcon:{color:e.palette.text.white}}})),yt=function(e){var t=e.boardName,a=e.users,c=e.boardId,o=Object(r.useState)(!1),i=Object(q.a)(o,2),l=i[0],d=i[1],b=Object(r.useRef)(null),h=Object(r.useContext)(p).token,j=ze().request,m=Object(u.b)().enqueueSnackbar,x=Ct(),f=Object(r.useCallback)((function(e,t){return m(e,{variant:t})}),[m]),g=function(){d(!l)},O=function(){var e=Object(H.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"https://rsclone-back-end.herokuapp.com/api/board/".concat(c),method:"PUT",headers:{Authorization:"Bearer ".concat(h)},body:t},e.next=4,j(a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f(e.t0.message,"error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(V.a,{className:x.boardHeader,children:[Object(n.jsxs)(V.a,{className:x.boardHeader__options,children:[Object(n.jsx)(s.b,{to:"/home",children:Object(n.jsx)(Q.a,{className:x.boardHeader__element,children:Object(n.jsx)(nt.a,{className:x.boardHeader__homeIcon,color:"inherit"})})}),Object(n.jsx)(ht,{boardId:c,boardName:t,request:O}),Object(n.jsx)(dt,{boardId:c,data:a})]}),Object(n.jsx)(Q.a,{color:"inherit",className:x.boardHeader__element,onClick:g,ref:b,children:"Background"}),Object(n.jsx)(kt,{anchorEl:b.current,handleClose:g,isOpen:l,request:O})]})};yt.defaultProps={boardName:"",users:[],boardId:""};var wt=yt,_t=a(46),Nt=a(349),St=a(264),It=a(143),Bt=a.n(It),zt=Object(C.a)((function(e){return{board__header:{padding:"3px",fontWeight:700,fontSize:e.typography.h4.fontSize,display:"flex",justifyContent:"space-between",alignItems:"center"},board__headerInput:{padding:"5px",width:"100%",fontWeight:700,fontSize:e.typography.h4.fontSize,overflowWrap:"anywhere",alignSelf:"baseline","& textarea":{padding:"0px",height:"100%",lineHeight:"1.2",alignSelf:"baseline"}}}})),Wt=function(e){var t=e.name,a=e.id,c=e.dragHandleProps,o=Object(r.useState)(t),i=Object(q.a)(o,2),s=i[0],l=i[1],d=Object(r.useState)(!1),b=Object(q.a)(d,2),h=b[0],j=b[1],x=Object(r.useContext)(p).token,f=ze().request,g=Object(u.b)().enqueueSnackbar,O=Object(r.useContext)(xt).updateBoardData,v=Object(r.useRef)(null),k=zt(),C=Object(r.useCallback)((function(e,t){return g(e,{variant:t})}),[g]),y=function(){var e=Object(H.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/column/".concat(a),method:"PUT",headers:{Authorization:"Bearer ".concat(x)},body:{name:t}},e.next=4,f(n);case 4:O.updateColumn({name:t,_id:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C(e.t0.message,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(H.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"https://rsclone-back-end.herokuapp.com/api/column/".concat(a),method:"DELETE",headers:{Authorization:"Bearer ".concat(x)}},e.next=4,f(t);case 4:O.deleteColumn(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C(e.t0.message,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(V.a,{className:k.board__header,"aria-describedby":c["aria-describedby"],"data-rbd-drag-handle-context-id":c["data-rbd-drag-handle-context-id"],"data-rbd-drag-handle-draggable-id":c["data-rbd-drag-handle-draggable-id"],draggable:c.draggable,onDragStart:c.onDragStart,role:c.role,tabIndex:c.tabIndex,children:[h?Object(n.jsx)(Nt.a,{className:k.board__headerInput,value:s,inputProps:{"aria-label":"column header"},inputRef:v,fullWidth:!0,autoFocus:!0,multiline:!0,onBlur:function(){t.trim().length?(j(!1),y(s)):v.current.focus()},onChange:function(e){l(e.target.value)}}):Object(n.jsx)(m.a,{className:k.board__headerInput,variant:"h2",onClick:function(){j(!0)},children:s}),Object(n.jsx)(St.a,{"aria-label":"cancel",onClick:w,size:"small",children:Object(n.jsx)(Bt.a,{fontSize:"inherit"})})]})};Wt.defaultProps={name:"",id:"",dragHandleProps:{}};var Tt=Wt,Pt=a(97),Dt=a.n(Pt),Et=a(304),Rt=a(98),Ht=a.n(Rt),At=a(147),qt=a.n(At),Mt=a(303),Lt=a(267),Ft=a(333),Ut=a(145),Jt=a.n(Ut),Yt=a(318),$t=a(144),Vt=a.n($t),Gt=function(e){var t=e.styles,a=e.cardId,c=Object(r.useState)(t.name),o=Object(q.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(!1),d=Object(q.a)(l,2),b=d[0],h=d[1],j=Object(r.useContext)(p).token,m=ze().request,x=Object(u.b)().enqueueSnackbar,f=Object(r.useContext)(xt),g=f.boardData,O=f.updateBoardData,k=g.labels,y=g._id,w=Object(r.useRef)(null),_=function(e){var t=e.color,a=e.textColor;return Object(C.a)((function(){return{editor:{display:"flex",justifyContent:"space-between",alignItems:"center"},textfield:{margin:5,padding:0,width:180,height:30,backgroundColor:t,color:a,boxSizing:"border-box",cursor:"auto","& input":{margin:0,padding:"0 10px",boxSizing:"border-box"},'& [type="button"]':{cursor:"pointer"}}}}))()}(t),N=Object(r.useCallback)((function(e,t){return x(e,{variant:t})}),[x]),S=function(){var e=Object(H.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"https://rsclone-back-end.herokuapp.com/api/board/".concat(y),method:"PUT",headers:{Authorization:"Bearer ".concat(j)},body:{label:t}},e.next=4,m(a);case 4:k.find((function(e){return e.color===t.color})).name=t.name,O.updateBoard({labels:k}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),N(e.t0.message,"error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(H.a)(R.a.mark((function e(){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={url:"https://rsclone-back-end.herokuapp.com/api/cards/".concat(a),method:"PUT",headers:{Authorization:"Bearer ".concat(j)},body:{label:{color:t.color}}},e.next=6,m(n);case 6:r=e.sent,O.updateCard(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),N(e.t0.message,"error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(V.a,{className:_.editor,children:[Object(n.jsx)(Yt.a,{fullWidth:!0,disableUnderline:!0,inputRef:w,value:i,readOnly:!b,className:_.textfield,type:b?"text":"button",onClick:I,onChange:function(e){var t=e.target;s(t.value)}}),Object(n.jsx)(St.a,{"aria-label":"edit",onClick:function(){b?S(Object(v.a)(Object(v.a)({},t),{},{name:i})):w.current.focus(),h(!b)},size:"small",children:b?Object(n.jsx)(Vt.a,{fontSize:"inherit",color:"primary"}):Object(n.jsx)(Dt.a,{fontSize:"inherit"})})]})};Gt.defaultProps={styles:{},cardId:""};var Kt=Gt,Xt=Object(C.a)((function(){return{menu:{padding:10},header:{marginBottom:5,padding:5,position:"relative"},back:{position:"absolute",top:"50%",left:5,transform:"translate(0, -50%)"}}})),Zt=function(e){var t=e.close,a=e.cardId,c=Object(r.useContext)(xt).boardData.labels,o=Xt();return Object(n.jsxs)(V.a,{className:o.menu,children:[Object(n.jsxs)(V.a,{className:o.header,children:[Object(n.jsx)(St.a,{className:o.back,"aria-label":"return",onClick:function(){t("menu")},size:"small",children:Object(n.jsx)(Jt.a,{fontSize:"inherit"})}),Object(n.jsx)(m.a,{variant:"h4",align:"center",children:"Labels"})]}),Object(n.jsx)(x.a,{}),Object(n.jsx)(V.a,{children:c.map((function(e){return Object(n.jsx)(Kt,{styles:e,cardId:a},e.color)}))})]})};Zt.defaultProps={close:null,cardId:""};var Qt=Zt,ea=a(332),ta=a(320),aa=Object(C.a)((function(){return{menu:{zIndex:1}}})),na=function(e){var t=e.toggleMenuType,a=e.deleteCard,r=aa();return Object(n.jsxs)(ta.a,{children:[Object(n.jsx)(ea.a,{className:r.card__menuItem,onClick:function(e){var a=e.target;t(a.dataset.menu)},"data-menu":"labels",children:"Change labels"}),Object(n.jsx)(ea.a,{className:r.card__menuItem,onClick:a,children:"Delete"})]})};na.defaultProps={toggleMenuType:null,deleteCard:null};var ra=na,ca=Object(C.a)((function(){return{menu:{zIndex:1}}})),oa=function(e){var t=e.open,a=e.handleClose,c=e.anchorEl,o=e.deleteCard,i=e.cardId,s=Object(r.useState)("menu"),l=Object(q.a)(s,2),d=l[0],u=l[1],b=ca(),p=function(e){u(e)};return Object(n.jsx)(Ft.a,{open:t,anchorEl:c,transition:!0,placement:"right-start",className:b.menu,children:function(e){var t=e.TransitionProps,r=e.placement;return Object(n.jsx)(Lt.a,{in:t.in,onEnter:t.onEnter,onExited:t.onExited,style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(n.jsx)($.a,{className:b.card__menu,children:Object(n.jsx)(Mt.a,{onClickAway:a,children:Object(n.jsx)(V.a,{children:"menu"===d?Object(n.jsx)(ra,{toggleMenuType:p,deleteCard:o}):Object(n.jsx)(Qt,{close:p,cardId:i})})})})})}})};oa.defaultProps={open:!1,handleClose:function(){},anchorEl:null,deleteCard:function(){},cardId:""};var ia=oa,sa=a(350),la=function(e){var t=e.color,a=e.textColor,r=e.text,c=function(e,t){return Object(C.a)((function(){return{background:{margin:2,backgroundColor:e,color:t,border:"none",borderRadius:5,height:"fit-content",minHeight:16,minWidth:30}}}))()}(t,a);return Object(n.jsx)(sa.a,{variant:"outlined",className:c.background,label:r,size:"small"})};la.defaultProps={color:"",textColor:"",text:""};var da=la,ua=Object(C.a)((function(e){return{creator:{margin:"5px",backgroundColor:"transparent",height:"fit-content"},creator_visible:{marginBottom:"5px",padding:"5px",width:"100%",maxWidth:"260px",maxHeight:"100%",height:"fit-content",backgroundColor:e.palette.background.card,boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"flex-start"},creator__input:{padding:"0px",width:"100%",fontSize:e.typography.h6.fontSize,fontWeight:e.typography.h6.fontWeight,backgroundColor:e.palette.background.main,borderRadius:"4px"},creator__inputWrapper:{marginBottom:"5px",overflow:"hidden"},creator__addNewCardButton:{padding:"5px",height:"fit-content",width:"100%",boxSizing:"border-box",backgroundColor:e.palette.buttons.grey,"&:hover":{backgroundColor:e.palette.buttons.greyHover}},creator__submit:{marginRight:"5px",padding:"2px"}}})),ba=function(e){var t=e.request,a=e.type,c=e.close,o=e.cardData,i=e.deleteCard,s=Object(r.useState)("editor"===a),l=Object(q.a)(s,2),d=l[0],u=l[1],b=Object(r.useState)(null===o||void 0===o?void 0:o.name),p=Object(q.a)(b,2),h=p[0],j=p[1],m=Object(r.useState)(!1),x=Object(q.a)(m,2),f=x[0],g=x[1],O=Object(r.useContext)(xt).boardData,v=Object(r.useRef)(null),k=Object(r.useRef)(null),C=ua(),y=o.labels,w=o._id,_=function(){var e=Object(H.a)(R.a.mark((function e(){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.trim()){e.next=3;break}return k.current.focus(),e.abrupt("return");case 3:return n={name:h},e.next=6,t(n);case 6:j(""),"editor"!==a&&k.current.focus();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)($.a,{className:d?C.creator_visible:C.creator,variant:"outlined",ref:v,children:[Object(n.jsx)(Et.a,{in:d,collapsedHeight:34,children:d?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(V.a,{className:C.board__header,children:[Object(n.jsx)(V.a,{children:y&&y.map((function(e){var t=e.color,a=O.labels.find((function(e){return t===e.color})),r=a.textColor,c=a.name;return Object(n.jsx)(da,{text:c,color:t,textColor:r},t)}))}),Object(n.jsx)(Nt.a,{fullWidth:!0,className:C.creator__inputWrapper,inputProps:{className:C.creator__input},inputRef:k,size:"small",placeholder:"Add header...",margin:"dense",value:h,onChange:function(e){j(e.target.value)},autoFocus:!0,multiline:!0})]}),Object(n.jsxs)(V.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(n.jsxs)(V.a,{children:[Object(n.jsx)(Q.a,{className:C.creator__submit,"aria-label":"submit",variant:"contained",color:"primary",onClick:_,size:"small",children:"editor"===a?"Submit":"Add"}),Object(n.jsx)(St.a,{"aria-label":"cancel",onClick:function(){u(!1),j(""),c&&c()},size:"small",children:Object(n.jsx)(Ht.a,{})})]}),"editor"===a&&Object(n.jsx)(St.a,{"aria-label":"options",onClick:function(){g(!0)},size:"small",children:Object(n.jsx)(qt.a,{})})]})]}):Object(n.jsx)(Q.a,{variant:"contained",className:C.creator__addNewCardButton,onClick:function(){u(!0)},children:"Add new card"})}),Object(n.jsx)(ia,{open:f,handleClose:function(){g(!1)},anchorEl:v.current,deleteCard:i,cardId:w})]})};ba.defaultProps={request:function(){},type:"",close:function(){},deleteCard:function(){},cardData:{}};var pa=ba,ha=a(334),ja=a(335),ma=Object(C.a)({nameTitle:{cursor:"pointer",wordBreak:"break-word"},nameField:{width:"calc(100% - 60px)","& textarea":{lineHeight:"1.7"}},buttonNameSave:{position:"absolute",right:"35px"},done:{border:"none",width:"30px",height:"30px",background:"none",cursor:"pointer",padding:0}}),xa=function(e){var t=e.name,a=e.value,c=e.action,o=Object(v.a)(Object(v.a)({},O()),ma()),i=Object(r.useState)(!1),s=Object(q.a)(i,2),l=s[0],d=s[1],u=Object(r.useState)(Object(J.a)({},t,"")),b=Object(q.a)(u,2),p=b[0],h=b[1],j=function(e){h(Object(J.a)({},e.target.name,e.target.value.trim()))},x=function(){d(!l)},g=function(){x(),c(Object(J.a)({},t,p[t]))};Object(r.useEffect)((function(){var e=a?a.trim():"";h(Object(J.a)({},t,e))}),[t,a]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(f.a,{className:o.marginBottomSmall,container:!0,wrap:"nowrap",direction:"row",alignItems:"flex-start",children:[Object(n.jsx)(ja.a,{className:o.MarginRightSmall}),l?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(X.a,{autoFocus:!0,fullWidth:!0,className:o.nameField,id:t,name:t,value:p[t],onChange:j,onBlur:g}),Object(n.jsx)("button",{type:"button",onClick:g,className:o.done,children:Object(n.jsx)(ha.a,{color:"primary"})})]}):Object(n.jsx)(m.a,{className:o.nameTitle,variant:"h3",component:"h2",onClick:x,children:""!==p[t]?p[t]:"Enter name"})]})})};xa.defaultProps={name:"",value:"",action:function(){}};var fa=xa,ga=a(148),Oa=a.n(ga),va=a(336),ka=Object(C.a)({paper:{backgroundColor:"#f5f5f5",padding:"10px 15px",cursor:"pointer"},helper:{display:"block",textAlign:"right",fontSize:"12px"},field:{"& textarea":{lineHeight:"1.7"}},content:{wordBreak:"break-word;"}}),Ca=function(e){var t=e.name,a=e.value,c=e.title,o=e.action,i=Object(v.a)(Object(v.a)({},O()),ka()),s=Object(r.useState)(!1),l=Object(q.a)(s,2),d=l[0],u=l[1],b=Object(r.useState)(Object(J.a)({},t,"")),p=Object(q.a)(b,2),h=p[0],j=p[1],x=function(e){j(Object(J.a)({},e.target.name,e.target.value.trim()))},g=function(){u(!d)},k=function(){g(),o(Object(J.a)({},t,h[t]))};Object(r.useEffect)((function(){var e=a?a.trim():"";j(Object(J.a)({},t,e))}),[t,a]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(f.a,{className:i.marginBottomSmall,container:!0,direction:"row",alignItems:"center",children:[Object(n.jsx)(va.a,{className:i.MarginRightSmall}),Object(n.jsxs)(m.a,{variant:"h3",component:"h2",children:[c,d?null:Object(n.jsx)(Q.a,{className:i.MarginLeftSmall,onClick:g,color:"primary",children:"Edit"})]})]}),d?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("i",{className:i.helper,children:"Set text with markdown markup*"}),Object(n.jsx)(X.a,{autoFocus:!0,fullWidth:!0,multiline:!0,className:"".concat(i.marginBottomSmall," ").concat(i.field),id:t,name:t,defaultValue:h[t],onChange:x,onBlur:k}),Object(n.jsx)(Q.a,{onClick:k,color:"primary",children:"Save"})]}):Object(n.jsx)($.a,{className:i.paper,onClick:g,elevation:0,children:Object(n.jsx)(Oa.a,{className:i.content,children:""!==h[t]?h[t]:"Click here to enter a content"})})]})};Ca.defaultProps={name:"",value:"",title:"Description",action:function(){}};var ya=Ca,wa=Object(C.a)({avatars:{overflow:"auto",width:"calc(100% - 70px)",flexWrap:"wrap"},avatar:{marginRight:"10px","&:last-child":{marginRight:0}}}),_a=function(e){var t=e.idCard,a=e.labels,c=Object(v.a)(Object(v.a)({},wa()),O()),o=Object(r.useState)(!1),i=Object(q.a)(o,2),s=i[0],l=i[1],d=Object(r.useContext)(xt).boardData,u=Object(r.useRef)(null),b=function(){l(!1)};return Object(n.jsxs)("div",{className:"\n        ".concat(c.marginBottomMiddle," \n        ").concat(c.flex," \n        ").concat(c.alignItemCenter,"\n      "),ref:u,children:[Object(n.jsx)("div",{className:"".concat(c.avatars," ").concat(c.flex),children:(null===a||void 0===a?void 0:a.length)?a.map((function(e){var t=e.color,a=d.labels.find((function(e){return t===e.color})),r=a.textColor,c=a.name;return Object(n.jsx)(da,{text:c,color:t,textColor:r},t)})):Object(n.jsx)("i",{children:"No labels"})}),Object(n.jsx)(Q.a,{className:c.MarginLeftAuto,onClick:function(){l(!0)},children:Object(n.jsx)(U.a,{})}),Object(n.jsx)(jt.a,{open:s,anchorEl:u.current,onClose:b,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"},children:Object(n.jsx)(Qt,{cardId:t,close:b})})]})};_a.defaultProps={idCard:"",labels:[]};var Na=_a,Sa=Object(C.a)((function(){return{done:{border:"none",marginRight:"10px",marginLeft:"-5px",width:"10px",height:"10px",background:"none",cursor:"pointer",padding:0}}})),Ia=function(e){var t=e.idCard,a=e.users,c=e.usersIdx,o=e.open,i=e.handleClose,s=e.anchorEl,l=Sa(),d=Object(r.useContext)(p).token,b=ze().request,h=Object(r.useContext)(xt).updateBoardData,j=Object(u.b)().enqueueSnackbar,m=Object(r.useCallback)((function(e,t){return j(e,{variant:t})}),[j]),x=function(){var e=Object(H.a)(R.a.mark((function e(a){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/cards/".concat(t),method:"PUT",headers:{Authorization:"Bearer ".concat(d)},body:Object(v.a)({},a)},e.next=4,b(n);case 4:r=e.sent,h.updateCard(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m(e.t0.message,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.target,n=t.getAttribute("data-id"),r=t.getAttribute("data-have"),c={},o=Object(v.a)({},a[n])._id;"1"===r?c.kick=o:c.add=o,x(c)};return Object(n.jsx)(Ft.a,{open:o,anchorEl:s,role:void 0,transition:!0,disablePortal:!0,placement:"bottom",className:l.menu,children:function(e){var t=e.TransitionProps,r=e.placement;return Object(n.jsx)(Lt.a,{in:t.in,onEnter:t.onEnter,onExited:t.onExited,style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:Object(n.jsx)($.a,{className:l.card__menu,children:Object(n.jsx)(Mt.a,{onClickAway:i,children:Object(n.jsx)(ta.a,{autoFocusItem:o,id:"menu-list-grow",children:a.map((function(e,t){var a=e,r=a._id,o=!1;return-1!==c.indexOf(r)&&(o=!0),Object(n.jsxs)(ea.a,{className:l.card__menuItem,onClick:f,"data-id":t,"data-have":o?"1":"0",children:[o?Object(n.jsx)(ha.a,{className:l.done}):"",a.fullName]},r)}))})})})})}})};Ia.defaultProps={idCard:"",users:[],usersIdx:[],open:!1,handleClose:function(){},anchorEl:null};var Ba=Ia,za=Object(C.a)({avatars:{overflow:"auto",width:"calc(100% - 70px)"},avatar:{marginRight:"10px","&:last-child":{marginRight:0}}}),Wa=function(e){var t=e.idCard,a=e.users,c=e.currentUsers,o=Object(v.a)(Object(v.a)({},za()),O()),i=Object(r.useState)(!1),s=Object(q.a)(i,2),l=s[0],d=s[1],u=Object(r.useRef)(null),b=function(){d(!1)},p=function(){d(!0)},h=function(){var e=[];return c.forEach((function(t){var n=t._id;a.forEach((function(t){var a=t._id;return n===a&&e.push(n),!0}))})),e};return Object(n.jsx)(n.Fragment,{children:function(){var e=function(){if(0===c.length)return Object(n.jsx)("i",{children:"No members"});var e=c.map((function(e){var t=e,a=e._id;return Object(n.jsx)(k.a,{className:o.avatar,alt:t.fullName,src:"#"},a)}));return Object(n.jsx)(n.Fragment,{children:e})}();return Object(n.jsxs)("div",{className:"".concat(o.marginBottomMiddle," ").concat(o.flex," ").concat(o.alignItemCenter),children:[Object(n.jsx)("div",{className:"".concat(o.avatars," ").concat(o.flex),children:e}),Object(n.jsx)(Q.a,{className:o.MarginLeftAuto,onClick:p,ref:u,children:Object(n.jsx)(U.a,{})}),Object(n.jsx)(Ba,{idCard:t,users:a,usersIdx:h(),open:l,handleClose:b,anchorEl:u.current})]})}()})};Wa.defaultProps={idCard:"",users:[],currentUsers:[]};var Ta=Wa,Pa=Object(C.a)({paper:{backgroundColor:"#f5f5f5",padding:"10px 15px",cursor:"pointer"},closeButton:{position:"absolute",right:"10px",top:"10px",zIndex:"10",cursor:"pointer"},popupPadding:{"& .MuiDialogContent-root":{padding:"40px 15px 20px "}},dialogContent:{position:"relative"},helper:{display:"block",textAlign:"right",fontSize:"12px"},field:{"& textarea":{lineHeight:"1.7"}},nameTitle:{cursor:"pointer",wordBreak:"break-word"},nameField:{width:"calc(100% - 60px)","& textarea":{lineHeight:"1.7"}},buttonNameSave:{position:"absolute",right:"35px"},content:{wordBreak:"break-word;"},done:{border:"none",width:"30px",height:"30px",background:"none",cursor:"pointer",padding:0}}),Da=function(e){var t=e.isOpen,a=e.close,c=e.updateCardData,o=e.cardData,i=e.users,s=Object(r.useContext)(p).token,l=ze().request,d=Object(r.useState)([]),b=Object(q.a)(d,2),h=b[0],j=b[1],m=Object(v.a)(Object(v.a)({},O()),Pa()),x=h._id,f=h.labels,g=Object(u.b)().enqueueSnackbar,k=Object(r.useCallback)((function(e,t){return g(e,{variant:t})}),[g]);Object(r.useEffect)((function(){return j(o)}),[o]);var C=function(){var e=Object(H.a)(R.a.mark((function e(){var t,a,n,r=arguments;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},a=Object(v.a)({},t),e.prev=2,n={url:"https://rsclone-back-end.herokuapp.com/api/cards/".concat(x),method:"PUT",headers:{Authorization:"Bearer ".concat(s)},body:a},e.next=6,l(n);case 6:c(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),k(e.t0.message,"error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(Y.a,{className:"".concat(m.popupPadding," ").concat(m.popup),open:t,onClose:a,"aria-labelledby":"alert-dialog-title",children:Object(n.jsxs)(K.a,{className:m.dialogContent,children:[Object(n.jsx)(De.a,{className:m.closeButton,onClick:a}),Object(n.jsx)(fa,{name:"name",value:h.name,action:C}),Object(n.jsx)(Ta,{currentUsers:o.users,users:i,idCard:x}),Object(n.jsx)(Na,{idCard:x,labels:f}),Object(n.jsx)(ya,{name:"content",value:h.content,action:C})]})})};Da.defaultProps={cardData:{},users:[]};var Ea=Da,Ra=Object(C.a)((function(e){return{card:{marginBottom:"5px",padding:"5px",minHeight:"30px",backgroundColor:e.palette.background.main,borderRadius:"5px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",cursor:"pointer",position:"relative","&:hover [class*=card__edit]":{visibility:"visible"}},card__header:{padding:"2px",width:"100%",overflowWrap:"anywhere"},card__edit:{visibility:"hidden",fontSize:e.typography.h3.fontSize,backgroundColor:"#ffffffc4",border:"1px solid #808080ab",position:"absolute",top:2,right:2,"&:hover":{backgroundColor:"#fff",borderColor:"#808080"}}}})),Ha=function(e){var t=e.data,a=e.index,c=e.users,o=Object(r.useState)(t),i=Object(q.a)(o,2),s=i[0],l=i[1],d=Object(r.useState)(!1),b=Object(q.a)(d,2),h=b[0],j=b[1],x=Object(r.useState)(!1),f=Object(q.a)(x,2),g=f[0],O=f[1],k=Object(r.useContext)(p).token,C=ze().request,y=Object(u.b)().enqueueSnackbar,w=Object(r.useContext)(xt),_=w.updateBoardData,N=w.boardData,S=s._id,I=s.labels,B=Ra();Object(r.useEffect)((function(){return l(t)}),[t,l]);var z=Object(r.useCallback)((function(e,t){return y(e,{variant:t})}),[y]),W=function(e){e.stopPropagation(),j(!0)},T=function(){j(!1)},P=function(){O(!g)},D=function(){var e=Object(H.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"https://rsclone-back-end.herokuapp.com/api/cards/".concat(S),method:"DELETE",headers:{Authorization:"Bearer ".concat(k)}},e.next=4,C(t);case 4:_.deleteCard(s),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),z(e.t0.message,"error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(H.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"https://rsclone-back-end.herokuapp.com/api/cards/".concat(S),method:"PUT",headers:{Authorization:"Bearer ".concat(k)},body:t},e.next=4,C(a);case 4:n=e.sent,_.updateCard(n),T(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),z(e.t0.message,"error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return h?Object(n.jsx)(pa,{request:E,type:"editor",close:T,deleteCard:D,cardData:s}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(_t.b,{draggableId:S,index:a,type:"card",children:function(e){var t=e.draggableProps,a=e.dragHandleProps;return Object(n.jsx)("div",{ref:e.innerRef,"data-rbd-draggable-context-id":t["data-rbd-draggable-context-id"],"data-rbd-draggable-id":t["data-rbd-draggable-id"],onTransitionEnd:t.onTransitionEnd,style:t.style,"aria-describedby":a["aria-describedby"],"data-rbd-drag-handle-context-id":a["data-rbd-drag-handle-context-id"],"data-rbd-drag-handle-draggable-id":a["data-rbd-drag-handle-draggable-id"],draggable:a.draggable,onDragStart:a.onDragStart,role:a.role,tabIndex:a.tabIndex,children:Object(n.jsxs)(V.a,{className:B.card,onClick:P,children:[Object(n.jsx)(V.a,{children:I.map((function(e){var t=e.color,a=N.labels.find((function(e){return t===e.color})),r=a.textColor,c=a.name;return Object(n.jsx)(da,{text:c,color:t,textColor:r},t)}))}),Object(n.jsx)(m.a,{className:B.card__header,variant:"h5",component:"h3",children:s.name||"Enter card name"}),Object(n.jsx)(St.a,{className:B.card__edit,"aria-label":"edit",onClick:W,size:"small",children:Object(n.jsx)(Dt.a,{fontSize:"inherit"})})]})})}}),Object(n.jsx)(Ea,{isOpen:g,idCard:S,users:c,close:P,updateCardData:function(e){var t=Object(v.a)(Object(v.a)({},s),e);_.updateCard(t)},cardData:s})]})};Ha.defaultProps={data:{},users:[],index:0};var Aa=Ha,qa=Object(C.a)((function(){return{board__tasklList:{padding:"0 5px",overflowX:"hidden",overflowY:"auto","&::-webkit-scrollbar":{width:"8px",height:"5px",backgroundColor:"#cecfd1",borderRadius:"10px"},"&::-webkit-scrollbar-track":{background:"#cecfd1",borderRadius:"15px"},"&::-webkit-scrollbar-thumb":{borderRadius:"10px",background:"#bbbcbc",transition:"all 1s linear","&:hover":{backgroundColor:"#989898"}}}}})),Ma=function(e){var t=e.data,a=e.columnId,c=e.users,o=Object(r.useState)(t),i=Object(q.a)(o,2),s=i[0],l=i[1],d=Object(r.useContext)(p).token,b=ze().request,h=Object(u.b)().enqueueSnackbar,j=Object(r.useContext)(xt).updateBoardData,m=qa();Object(r.useEffect)((function(){return l(t)}),[t,a]);var x=Object(r.useCallback)((function(e,t){return h(e,{variant:t})}),[h]),f=function(){var e=Object(H.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/cards/",method:"POST",headers:{Authorization:"Bearer ".concat(d)},body:Object(v.a)({position:s.length,columnId:a},t)},e.next=4,b(n);case 4:r=e.sent,j.addCard(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x(e.t0.message,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(_t.c,{droppableId:a,type:"card",ignoreContainerClipping:!0,children:function(e){var t=e.droppableProps;return Object(n.jsx)(V.a,{className:m.board__tasklList,children:Object(n.jsxs)("div",{ref:e.innerRef,"data-rbd-droppable-context-id":t["data-rbd-droppable-context-id"],"data-rbd-droppable-id":t["data-rbd-droppable-id"],style:Object(v.a)({},{userSelect:"none",maxHeight:"50%",height:"fit-content",minHeight:"100%",width:"100%"}),children:[s.map((function(e,t){var a=e._id;return Object(n.jsx)(Aa,{index:t,data:e,users:c},a)})),e.placeholder]})})}}),Object(n.jsx)(pa,{request:f,type:"creator"})]})};Ma.defaultProps={data:[],users:[],columnId:""};var La=Ma,Fa=Object(C.a)((function(e){return{board__column:{margin:"5px",padding:"5px",width:"270px",minWidth:"270px",maxHeight:"100%",backgroundColor:e.palette.background.column,boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"flex-start",userSelect:"none",overflowY:"hidden"}}})),Ua=function(e){var t=e.data,a=e.index,r=e.users,c=t.cards,o=t.name,i=t._id,s=Fa();return Object(n.jsx)(_t.b,{draggableId:i,index:a,type:"column",children:function(e){var t=e.draggableProps;return Object(n.jsx)("div",{ref:e.innerRef,"data-rbd-draggable-context-id":t["data-rbd-draggable-context-id"],"data-rbd-draggable-id":t["data-rbd-draggable-id"],onTransitionEnd:t.onTransitionEnd,style:t.style,children:Object(n.jsxs)($.a,{className:s.board__column,children:[Object(n.jsx)(Tt,{name:o,id:i,dragHandleProps:e.dragHandleProps}),Object(n.jsx)(La,{data:c,columnId:i,users:r})]})})}})};Ua.defaultProps={data:{},users:[],index:0};var Ja=Ua,Ya=Object(C.a)((function(e){return{creator:{margin:"5px",backgroundColor:"transparent",height:"fit-content"},creator_visible:{margin:"5px",padding:"5px",width:"270px",minWidth:"270px",maxHeight:"100%",height:"fit-content",backgroundColor:e.palette.background.column,boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"flex-start"},creator__input:{padding:"10px",width:"100%",backgroundColor:e.palette.background.main,borderRadius:"4px"},creator__inputWrapper:{marginBottom:"5px",overflow:"hidden"},creator__addNewColButton:{padding:"10px",height:"fit-content",minWidth:"270px",color:e.palette.text.white,boxSizing:"border-box",backgroundColor:e.palette.buttons.transparentWhite,"&:hover":{backgroundColor:e.palette.buttons.transparentWhiteHover}},creator__submit:{marginRight:"5px",padding:"2px"}}})),$a=function(e){var t=e.request,a=Object(r.useState)(!1),c=Object(q.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(""),l=Object(q.a)(s,2),d=l[0],u=l[1],b=Object(r.useRef)(null),p=Ya(),h=function(){var e=Object(H.a)(R.a.mark((function e(){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d){e.next=2;break}return e.abrupt("return");case 2:return a={name:d},e.next=5,t(a);case 5:u(""),b.current.focus();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)($.a,{className:o?p.creator_visible:p.creator,children:Object(n.jsx)(Et.a,{in:o,collapsedHeight:45,children:o?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(V.a,{className:p.board__header,children:Object(n.jsx)(Nt.a,{fullWidth:!0,className:p.creator__inputWrapper,inputProps:{className:p.creator__input},size:"small",placeholder:"Add header...",inputRef:b,margin:"dense",value:d,onChange:function(e){u(e.target.value)},autoFocus:!0})}),Object(n.jsx)(Q.a,{className:p.creator__submit,variant:"contained",color:"primary",onClick:h,size:"small",children:"Add"}),Object(n.jsx)(St.a,{"aria-label":"cancel",onClick:function(){i(!1)},size:"small",children:Object(n.jsx)(Ht.a,{})})]}):Object(n.jsx)(Q.a,{variant:"contained",className:p.creator__addNewColButton,onClick:function(){i(!0)},children:"Add new column"})})})};$a.defaultProps={request:function(){}};var Va=$a,Ga=Object(C.a)((function(e){return{board__content:{height:"calc(100vh - 115px)",overflowX:"auto",overflowY:"hidden",boxSizing:"border-box",flex:"auto","@media(max-width: 1024px)":{height:"calc(100vh - 100px)"},"&::-webkit-scrollbar":{width:"5px",height:"8px",backgroundColor:"#cecfd1",borderRadius:"15px"},"&::-webkit-scrollbar-track":{background:"#cecfd1",borderRadius:"15px"},"&::-webkit-scrollbar-thumb":{borderRadius:"15px",background:"#bbbcbc",transition:"all 1s linear","&:hover":{backgroundColor:"#989898"}}},board__contentWrapper:{padding:"10px 10px 20px",width:"fit-content",height:"100%",display:"flex",boxSizing:"border-box"},board__button:{padding:"10px 20px",height:"fit-content",minWidth:"270px",boxSizing:"border-box",backgroundColor:e.palette.buttons.transparentWhite,"&:hover":{backgroundColor:e.palette.buttons.transparentWhiteHover}}}})),Ka=function(e){var t=e.columnsData,a=e.boardId,c=e.usersData,o=Object(r.useState)([]),i=Object(q.a)(o,2),s=i[0],l=i[1],d=Object(r.useContext)(p).token,b=ze().request,h=Object(u.b)().enqueueSnackbar,j=Object(r.useContext)(xt).updateBoardData,m=Ga();Object(r.useEffect)((function(){return l(t)}),[t,l]);var x=Object(r.useCallback)((function(e,t){return h(e,{variant:t})}),[h]),f=function(e,t,a){var n=Object(A.a)(e),r=n.splice(t,1),c=Object(q.a)(r,1)[0];return n.splice(a,0,c),n},g=function(e,t,a){var n=Object(A.a)(e),r=n.find((function(e){return e._id===t.droppableId})),c=n.find((function(e){return e._id===a.droppableId})),o=r.cards.splice(t.index,1),i=Object(q.a)(o,1)[0];return i.columnId=a.droppableId,c.cards.splice(a.index,0,i),n},O=Object(r.useCallback)(function(){var e=Object(H.a)(R.a.mark((function e(t,a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/column/".concat(t),method:"PUT",headers:{Authorization:"Bearer ".concat(d)},body:{position:a}},e.next=4,b(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),x(e.t0.message,"error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),[b,x,d]),k=Object(r.useCallback)(function(){var e=Object(H.a)(R.a.mark((function e(t,a,n){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"https://rsclone-back-end.herokuapp.com/api/cards/".concat(t),method:"PUT",headers:{Authorization:"Bearer ".concat(d)},body:{position:a,columnId:n}},e.next=4,b(r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),x(e.t0.message,"error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a,n){return e.apply(this,arguments)}}(),[b,x,d]),C=function(){var e=Object(H.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/column/",method:"POST",headers:{Authorization:"Bearer ".concat(d)},body:Object(v.a)({position:s.length,boardId:a},t)},e.next=4,b(n);case 4:r=e.sent,j.addColumn(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x(e.t0.message,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(H.a)(R.a.mark((function e(t){var a,n,r,c,o,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.type,n=t.destination,r=t.source,c=t.draggableId,n){e.next=3;break}return e.abrupt("return");case 3:if("column"!==a){e.next=9;break}return o=f(s,r.index,n.index),l(o),j.updateColumns(o),e.next=9,O(c,n.index);case 9:if("card"!==a){e.next=14;break}return i=g(s,r,n),j.updateColumns(i),e.next=14,k(c,n.index,n.droppableId);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w={height:"100%",width:"fit-content",display:"flex",boxSizing:"border-box"};return Object(n.jsx)(_t.a,{onDragEnd:y,children:Object(n.jsx)(_t.c,{droppableId:"board",type:"column",direction:"horizontal",children:function(e){var t=e.droppableProps;return Object(n.jsx)(V.a,{className:m.board__content,children:Object(n.jsxs)(V.a,{className:m.board__contentWrapper,children:[Object(n.jsxs)("div",{ref:e.innerRef,style:w,"data-rbd-droppable-context-id":t["data-rbd-droppable-context-id"],"data-rbd-droppable-id":t["data-rbd-droppable-id"],children:[s.map((function(e,t){var a=e._id;return Object(n.jsx)(Ja,{data:e,index:t,users:c},a)})),e.placeholder]}),Object(n.jsx)(Va,{request:C})]})})}})})};Ka.defaultProps={columnsData:[],usersData:[],boardId:""};var Xa=Ka,Za=Object(C.a)((function(e){return{board:{height:"100%",backgroundColor:"#88adfb",display:"flex",flexDirection:"column",boxSizing:"border-box",flex:"auto"},board__content:{padding:"10px",height:"100%",display:"flex",position:"relative",overflowX:"auto",boxSizing:"border-box",flex:"auto"},board__button:{padding:"10px 20px",height:"fit-content",minWidth:"270px",boxSizing:"border-box",backgroundColor:e.palette.buttons.transparentWhite,"&:hover":{backgroundColor:e.palette.buttons.transparentWhiteHover}}}})),Qa=function(){var e=Object(h.g)().id,t=Object(r.useState)({}),a=Object(q.a)(t,2),c=a[0],o=a[1],i=c._id,s=c.columns,l=c.users,d=Object(r.useContext)(p).token,b=ze().request,j=Object(u.b)().enqueueSnackbar,m=Za(),x=Object(r.useCallback)((function(e,t){return j(e,{variant:t})}),[j]),f=Object(r.useCallback)(Object(H.a)(R.a.mark((function t(){var a,n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={url:"https://rsclone-back-end.herokuapp.com/api/board/".concat(e),method:"GET",headers:{Authorization:"Bearer ".concat(d)}},t.next=4,b(a);case 4:n=t.sent,o(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),x(t.t0.message,"error");case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),[e,b,d,x]);return Object(r.useEffect)((function(){f()}),[f]),Object(n.jsx)(gt,{boardData:c,setBoardData:o,children:Object(n.jsxs)("main",{className:m.board,style:{background:"center / cover no-repeat ".concat(c.background||"#88adfb")},children:[Object(n.jsx)(wt,{boardName:c.name,boardId:i,users:c.users}),Object(n.jsx)(Xa,{columnsData:s,usersData:l,boardId:i})]})})},en=function(e){return e?Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{path:"/home",exact:!0,children:Object(n.jsx)(D,{})}),Object(n.jsx)(h.b,{path:"/boards",exact:!0,children:Object(n.jsx)(Fe,{})}),Object(n.jsx)(h.b,{path:"/board_:id",exact:!0,children:Object(n.jsx)(Qa,{})}),Object(n.jsx)(h.a,{to:"/home"})]}):Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{path:"/",exact:!0,children:Object(n.jsx)(tt,{})}),Object(n.jsx)(h.a,{to:"/"})]})},tn=a(337),an=a(338),nn=Object(tn.a)({root:{fontColor:"#f10c0c"},container:{paddingTop:"50px"},palette:{primary:{main:"#00c853",contrastText:"#fff"},secondary:{main:"#ffd600",contrastText:"#8c5203"},background:{main:"#fff",card:"#fafafa",column:"#eceff1"},shadow:{main:"#9e9e9e"},text:{main:"#3e3a3a",white:"#fff"},buttons:{transparentWhite:"#ffffff3d",transparentWhiteHover:"#ffffff70",grey:"#dcdcdc",greyHover:"#b3b3b3"}},typography:{htmlFontSize:16,h1:{fontSize:"1.5rem",fontWeight:700},h2:{fontSize:"1.25rem",fontWeight:700},h3:{fontSize:"1.13rem",fontWeight:700},h4:{fontSize:"1rem",fontWeight:700},h5:{fontSize:"1rem",fontWeight:700},h6:{fontSize:"1rem",fontWeight:700},body1:{fontSize:"0.875rem"},body2:{fontSize:"1rem"},subtitle1:{fontSize:"0.875rem"}}});function rn(e){var t=e.children;return Object(n.jsx)(an.a,{theme:nn,children:t})}rn.defaultProps={children:{}};var cn=a(343),on=a(344),sn=a(340),ln=a(342),dn=a(339),un=a(341),bn=a(155),pn=Object(C.a)((function(){return{auth__requirements:{width:"calc(100% - 60px)",maxWidth:"800px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"20px",outline:"none","& h2":{marginBottom:"15px"},"& h3":{marginBottom:"5px"},"& p":{marginBottom:"10px",textAlign:"justify"}}}})),hn=function(e){var t=e.isOpen,a=e.close,r=pn();return Object(n.jsx)(bn.a,{open:t,onClose:a,children:Object(n.jsxs)($.a,{elevation:3,className:r.auth__requirements,children:[Object(n.jsx)(m.a,{variant:"h2",children:"Validation requirements"}),Object(n.jsx)(m.a,{variant:"h3",children:"Login"}),Object(n.jsx)(m.a,{variant:"body2",children:"Only latin alphabet, numbers and special symbols."}),Object(n.jsx)(m.a,{variant:"h3",children:"Email"}),Object(n.jsx)(m.a,{variant:"body2",children:'It should contain only one " @" symbol, at least one latin letter number before " @", only one "." after " @" at least one latin letter or number after " @" and before ".",  at least two symbols after ".".'}),Object(n.jsx)(m.a,{variant:"h3",children:"Password"}),Object(n.jsx)(m.a,{variant:"body2",children:"It should contain at least 6 symbols, one uppercase latin symbol, 1 lowercase latin symbol, 1 number."})]})})},jn=Object(C.a)((function(){return{card:{padding:"5px",margin:"5px 0"},title:{paddingBottom:"10px"}}})),mn=function(e){var t=e.boardId,a=e.boardName,r=e.from,c=e.agree,o=e.loading,i=e.cancel,l=jn();return Object(n.jsxs)(M.a,{className:l.card,id:t,children:[Object(n.jsx)(m.a,{variant:"body1",children:"You have received an invitation to ".concat(a," from ").concat(r)}),Object(n.jsx)(Q.a,{component:s.c,to:"/boards",type:"button",color:"primary",onClick:c,disabled:o,children:"Agree"}),Object(n.jsx)(Q.a,{color:"secondary",onClick:i,disabled:o,children:"Cancel"})]},t)},xn=Object(C.a)((function(e){return{container:{backgroundColor:e.palette.background.card,color:e.palette.text.main,position:"absolute",right:"0",top:"100%",padding:"10px",width:"100%",maxWidth:"300px",borderRadius:"10px",boxShadow:"0 0 7px rgb(0, 0, 0, .5)"},card:{padding:"5px",margin:"5px 0"},title:{paddingBottom:"10px"}}})),fn=function(e){var t=e.isOpen,a=xn(),c=Object(r.useContext)(p),o=c.discardNotifications,i=c.setNotification,s=c.token,l=ze(),d=l.request,b=l.loading,h=Object(u.b)().enqueueSnackbar,j=Object(r.useState)([]),x=Object(q.a)(j,2),f=x[0],g=x[1],O=Object(r.useCallback)((function(e,t){return h(e,{variant:t})}),[h]),v=function(){var e=Object(H.a)(R.a.mark((function e(t,a){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"https://rsclone-back-end.herokuapp.com/api/auth/get_user",method:"GET",headers:{Authorization:"Bearer ".concat(t)}},e.next=3,a(n);case 3:r=e.sent,g(r.notifications||[]),localStorage.setItem("notifications",JSON.stringify({notice:r.notifications}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(H.a)(R.a.mark((function e(t,a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/board/comein/".concat(t),method:"POST",headers:{Authorization:"Bearer ".concat(s)}},e.next=4,d(n);case 4:return e.next=6,o(t);case 6:v(s,d),O("Welcome to ".concat(a,"!"),"success"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),O(e.t0.message,"error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(H.a)(R.a.mark((function e(t,a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/board/ignore/".concat(t),method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}},e.next=4,d(n);case 4:return e.next=6,o(t);case 6:v(s,d),O("You left the board ".concat(a,"!"),"success"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),O(e.t0.message,"error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){t&&v(s,d)}),[t,d,s,i]);var y=f.map((function(e){var t=e.from,a=e.boardName,r=e.boardId;return Object(n.jsx)(mn,{boardId:r,boardName:a,from:t,agree:function(){k(r,a)},loading:b,cancel:function(){C(r,a)}},r)}));return Object(n.jsx)(Et.a,{in:t,children:Object(n.jsxs)("div",{className:a.container,children:[Object(n.jsx)(m.a,{variant:"h3",className:a.title,children:"Notifications"}),f.length>0?y:Object(n.jsx)(m.a,{variant:"body1",children:"You have no notifications right now"})]})})},gn=Object(C.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{marginRight:"auto",color:"#ffffff",textDecoration:"none","@media(max-width: 480px)":{fontSize:"18px"}},avatarBtn:{marginLeft:"10px"},avatar:{backgroundColor:"#ffd600","@media(max-width: 480px)":{width:"35px",height:"35px"}},infoIcon:{color:"#ffffff"},navigation:{position:"relative",display:"flex",alignItems:"center"}}}));var On=function(){var e=gn(),t=Be().logout,a=Object(r.useContext)(p),c=a.isAuthenticated,o=a.fullName,i=a.getNotifications,l=Object(r.useState)(!1),d=Object(q.a)(l,2),u=d[0],b=d[1],h=Object(r.useState)(!1),j=Object(q.a)(h,2),x=j[0],f=j[1],g=i(),O=Object(r.useState)(!g.length),v=Object(q.a)(O,2),C=v[0],y=v[1],w=null;o&&(w=o.split(" ").map((function(e){return e[0].toUpperCase()})).join(""));var _=function(){b(!0)},N=function(){f((function(e){return!e})),y(!0)},S=function(){var e=Object(H.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){return c?Object(n.jsxs)("div",{className:e.navigation,children:[Object(n.jsx)(dn.a,{color:"primary",children:Object(n.jsx)(Q.a,{component:s.c,to:"/",onClick:S,color:"inherit",children:Object(n.jsx)(sn.a,{})})}),Object(n.jsx)(St.a,{onClick:N,className:e.avatarBtn,children:Object(n.jsx)(un.a,{badgeContent:g.length,color:"error",invisible:C,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(n.jsx)(k.a,{color:"primary",className:e.avatar,children:w})})}),Object(n.jsx)(fn,{isOpen:x})]}):Object(n.jsx)(St.a,{className:e.infoIcon,onClick:_,children:Object(n.jsx)(ln.a,{})})};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(cn.a,{position:"static",children:Object(n.jsxs)(on.a,{children:[Object(n.jsx)(m.a,{variant:"h1",component:"a",href:"/home",className:e.title,children:"RS Tasktracker"}),Object(n.jsx)(I,{})]})}),Object(n.jsx)(hn,{isOpen:u,close:function(){b(!1)}})]})};var vn=function(){var e=Be(),t=e.token,a=e.login,r=e.logout,c=e.userId,o=e.ready,i=e.fullName,b=e.email,h=e.setNotification,j=e.discardNotifications,m=e.getNotifications,x=!!t,f=en(x);return o?Object(n.jsx)(rn,{children:Object(n.jsx)(p.Provider,{value:{token:t,login:a,logout:r,userId:c,fullName:i,email:b,isAuthenticated:x,setNotification:h,discardNotifications:j,getNotifications:m},children:Object(n.jsx)(u.a,{maxSnack:3,autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(n.jsx)(s.a,{basename:"/rsclone/",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(On,{onReady:o}),f]})})})})}):Object(n.jsx)(l.a,{variant:"outlined",open:o,children:Object(n.jsx)(d.a,{color:"inherit"})})},kn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,352)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(vn,{})}),document.getElementById("root")),kn()}},[[260,1,2]]]);
//# sourceMappingURL=main.d358b9b7.chunk.js.map